# 智能文本转Markdown格式化工具

## 概述

这是一个独立的JavaScript格式化工具，可以将普通文本智能转换为Markdown格式。工具具有AI驱动的内容识别和自动排版功能。

## 主要功能

### 🧠 AI智能格式化特性
- **智能段落换行**：完美保留原文段落结构，独立短句（如：第一段、第二段）自动分段处理
- **智能标题识别**：基于上下文分析，精确识别多级标题（数字编号、方括号、政策文件等格式）
- **智能段落分割**：通过内容跳跃度算法，准确判断段落边界，保持语义连贯性
- **智能列表识别**：支持多种列表格式，自动识别基于上下文的列表项
- **重点内容标识**：多维度分析（关键词、数字指标、句式特征、上下文）智能标记重要信息
- **智能分句处理**：保持标点符号的准确分句，避免过度分割
- **格式自动优化**：清理冗余格式，优化整体排版效果

## 使用方法

### 1. 浏览器环境

```html
<!DOCTYPE html>
<html>
<head>
    <title>文本格式化</title>
</head>
<body>
    <script src="js/text-formatter.js"></script>
    <script>
        // 使用示例
        const originalText = `提升消费促进服务业发展的四大建议

推动消费升级
第一，要进一步优化消费环境，完善促进消费的体制机制。
第二，要深化供给侧结构性改革，增加高质量产品和服务供给。

完善政策支持
要完善政策支持体系，为企业减负增效。总结来说，政策支持是企业发展的重要保障。

重要措施
• 简化审批流程，提高办事效率
• 加大财政支持力度，优化资金配置

关键建议
因此，使用这个工具可以显著提升工作效率。特别是在处理大量文档时，效果更加明显。`;

        const formattedMarkdown = formatTextToMarkdown(originalText);
        console.log(formattedMarkdown);
        
        // 将结果显示到页面
        document.body.innerHTML = `<pre>${formattedMarkdown}</pre>`;
    </script>
</body>
</html>
```

### 2. Node.js环境

```javascript
// 引入格式化工具
const { formatTextToMarkdown } = require('./js/text-formatter.js');

// 使用示例
const originalText = `提升消费促进服务业发展的四大建议

推动消费升级
第一，要进一步优化消费环境，完善促进消费的体制机制。
第二，要深化供给侧结构性改革，增加高质量产品和服务供给。

完善政策支持
要完善政策支持体系，为企业减负增效。总结来说，政策支持是企业发展的重要保障。

重要措施
• 简化审批流程，提高办事效率
• 加大财政支持力度，优化资金配置

关键建议
因此，使用这个工具可以显著提升工作效率。特别是在处理大量文档时，效果更加明显。`;

const formattedMarkdown = formatTextToMarkdown(originalText);
console.log(formattedMarkdown);
```

### 3. 直接调用

```javascript
// 在任何支持JavaScript的环境中
const result = formatTextToMarkdown("你的原始文本内容");
console.log(result);
```

## 工具特点

### 输入文本类型支持
- ✅ **中文文本**：完整支持中文段落结构和标点符号
- ✅ **混合内容**：中英文混合、数字、特殊符号
- ✅ **多种格式**：政策文件、学术文章、新闻报道、技术文档
- ✅ **保留结构**：原文的换行和段落结构

### 输出格式特性
- ✅ **标准Markdown**：生成标准Markdown语法
- ✅ **自动标题**：智能识别1-6级标题
- ✅ **列表识别**：自动识别无序列表、有序列表、中文数字列表
- ✅ **重点标记**：重要内容自动加粗
- ✅ **引用格式**：保留和优化引用文本
- ✅ **换行优化**：完美保留原始换行结构

## 算法特性

### 智能分析技术
1. **内容结构分析**：统计行数、平均长度、特殊字符分布
2. **多模式标题识别**：支持数字编号、方括号、政策文件等多种标题格式
3. **上下文感知**：基于前后文判断内容类型和重要性
4. **语义跳跃检测**：计算内容连贯性，智能分段
5. **重点内容识别**：关键词匹配+句式分析+上下文重要性

### 格式化策略
- **标题层级**：基于内容权重和格式特征自动分配1-6级
- **段落分割**：考虑内容长度、主题跳跃、句式结构
- **列表识别**：格式标记+上下文一致性+长度一致性
- **重要标记**：综合评分系统，多维度判断内容重要性

## 使用场景

### 📝 文档处理
- 学术论文格式化
- 政府文件转换
- 新闻报道整理
- 技术文档排版

### 📊 内容管理
- 博客文章编写
- 知识库整理
- 会议纪要格式化
- 产品说明优化

### 🔄 批量转换
- 大批量文本处理
- 文档库迁移
- 内容库格式化
- 多语言文档处理

## 技术规格

### 性能特点
- **处理速度**：快速处理长文本（秒级响应）
- **内存占用**：轻量级算法，内存效率高
- **兼容性**：支持所有现代浏览器和Node.js环境
- **可靠性**：经过多轮测试，稳定可靠

### 依赖要求
- **浏览器环境**：原生JavaScript，无外部依赖
- **Node.js环境**：原生Node.js，无外部依赖
- **字符编码**：UTF-8，支持中文编码

### 错误处理
- 空字符串输入返回空结果
- 非字符串输入返回空结果
- 异常情况提供友好的错误处理

## 更新日志

### v2.1 (2025年12月)
- ✅ 新增独立JS文件提取
- ✅ 修复段落换行保留问题
- ✅ 修复JavaScript错误处理
- ✅ 优化引号识别逻辑
- ✅ 改进数字编号列表项识别
- ✅ 提升整体处理稳定性

### v2.0
- 智能段落换行功能
- 智能标题识别算法
- 智能列表识别机制
- 重点内容标识系统
- 智能分句处理算法

---

**开发者：** LeeCommon  
**版本：** v2.1  
**更新日期：** 2025年12月1日  
**许可证：** MIT License